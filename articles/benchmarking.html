<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Benchmarking • fio</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Benchmarking">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fio</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.6.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/albersonmiranda/fio" class="external-link">
    <span class="fa fa-github"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Benchmarking</h1>
            
            <h4 data-toc-skip class="date">June 11, 2025</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/albersonmiranda/fio/blob/main/vignettes/articles/benchmarking.Rmd" class="external-link"><code>vignettes/articles/benchmarking.Rmd</code></a></small>
      <div class="hidden name"><code>benchmarking.Rmd</code></div>

    </div>

    
    
<!-- This is a precomputing script. To run it, `knitr::knit("vignettes/articles/benchmarking_orig.Rmd.orig", output = "vignettes/articles/benchmarking.Rmd")` -->
<style>
p.caption {
  font-size: 0.6em;
  text-align: "center";
}
</style>
<div class="section level2">
<h2 id="disclaimer">DISCLAIMER<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h2>
<p>The present benchmark was conducted on 2025-06-11 on a Macbook Pro M4
(12-core CPU, 16-core GPU, 24GB RAM). Results <em>will</em> vary
depending on the hardware. The benchmarks are intended to provide a
general idea of the performance differences between the <code>fio</code>
package and other implementations, but they should not be considered
definitive. The performance of the functions may also vary depending on
the specific data used and the context in which the functions are
applied.</p>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette presents a benchmarking analysis comparing the
performance of functions from the <code>fio</code> package with
equivalent base R functions. The <code>fio</code> package provides a set
of functions for input-output analysis, a method used in economics to
analyze the interdependencies between different sectors of an
economy.</p>
<p>In this document, we will focus on two key functions: the technical
coefficients matrix calculation and the Leontief inverse matrix
calculation. These functions are fundamental to input-output analysis,
and their performance can significantly impact the speed of larger
analyses.</p>
<p>Our benchmarking tests, which involve running these functions
repeatedely in simulated datasets, show that the <code>fio</code>
package functions are faster than other implementations. This improved
performance can make a substantial difference in larger analyses, making
the <code>fio</code> package a valuable tool for input-output analysis
in R.</p>
<p>The tests were run on a simulated
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2000</mn><mo>×</mo><mn>2000</mn></mrow><annotation encoding="application/x-tex">2000 \times 2000</annotation></semantics></math>
matrix, and each test was repeated 100 times to account for variability.
Please note that the results of this benchmarking analysis are dependent
on the specific test datasets used and the hardware on which the
algorithms were run. Therefore, the results should be interpreted in the
context of these specific conditions.</p>
</div>
<div class="section level2">
<h2 id="technical-coefficients-matrix">Technical coefficients matrix<a class="anchor" aria-label="anchor" href="#technical-coefficients-matrix"></a>
</h2>
<p>The technical coefficients matrix calculation, a key and initial step
in input-output analysis, was tested using the
<code>compute_tech_coeff()</code> function from the <a href="https://albersonmiranda.github.io/fio/">fio</a>
package, equivalent functions from the <a href="https://github.com/pachadotdev/leontief" class="external-link">leontief</a> package,
and a base R implementation. It consists on dividing each
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>a</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><annotation encoding="application/x-tex">a_{ij}</annotation></semantics></math>
element of intermediate transactions matrix by the correspondent
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>x</mi><mi>j</mi></msub><annotation encoding="application/x-tex">x_j</annotation></semantics></math>
element of total production vector<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set seed</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Base R function</span></span>
<span><span class="va">tech_coeff_r</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">intermediate_transactions</span>, <span class="va">total_production</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">tech_coeff_matrix</span> <span class="op">&lt;-</span> <span class="va">intermediate_transactions</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">total_production</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">tech_coeff_matrix</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># benchmark</span></span>
<span><span class="va">benchmark_a</span> <span class="op">&lt;-</span> <span class="fu">bench</span><span class="fu">::</span><span class="fu">press</span><span class="op">(</span></span>
<span>  matrix_dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">500</span>, <span class="fl">1000</span>, <span class="fl">2000</span><span class="op">)</span>,</span>
<span>  <span class="op">{</span></span>
<span>    <span class="va">intermediate_transactions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>, <span class="va">matrix_dim</span><span class="op">^</span><span class="fl">2</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      nrow <span class="op">=</span> <span class="va">matrix_dim</span>,</span>
<span>      ncol <span class="op">=</span> <span class="va">matrix_dim</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">total_production</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">4000000</span><span class="op">:</span><span class="fl">6000000</span>, <span class="va">matrix_dim</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      nrow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>      ncol <span class="op">=</span> <span class="va">matrix_dim</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">iom_fio</span> <span class="op">&lt;-</span> <span class="fu">fio</span><span class="fu">::</span><span class="va"><a href="../reference/iom.html">iom</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"iom"</span>, <span class="va">intermediate_transactions</span>, <span class="va">total_production</span><span class="op">)</span></span>
<span>    <span class="fu">bench</span><span class="fu">::</span><span class="fu">mark</span><span class="op">(</span></span>
<span>      fio <span class="op">=</span> <span class="fu">fio</span><span class="fu">:::</span><span class="fu">compute_tech_coeff</span><span class="op">(</span><span class="va">intermediate_transactions</span>, <span class="va">total_production</span><span class="op">)</span>,</span>
<span>      `Base R` <span class="op">=</span> <span class="fu">tech_coeff_r</span><span class="op">(</span><span class="va">intermediate_transactions</span>, <span class="va">total_production</span><span class="op">)</span>,</span>
<span>      leontief <span class="op">=</span> <span class="fu">leontief</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/leontief/man/input_requirement.html" class="external-link">input_requirement</a></span><span class="op">(</span><span class="va">intermediate_transactions</span>, <span class="va">total_production</span><span class="op">)</span>,</span>
<span>      iterations <span class="op">=</span> <span class="fl">100</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Running with:</span></span>
<span><span class="co">#&gt;   matrix_dim</span></span>
<span><span class="co">#&gt; 1        100</span></span>
<span><span class="co">#&gt; 2        500</span></span>
<span><span class="co">#&gt; 3       1000</span></span>
<span><span class="co">#&gt; 4       2000</span></span>
<span><span class="co">#&gt; Warning: Some expressions had a GC in every iteration; so filtering is</span></span>
<span><span class="co">#&gt; disabled.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">benchmark_a</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 12 × 14</span></span>
<span><span class="co">#&gt;    expression matrix_dim      min   median `itr/sec` mem_alloc `gc/sec` n_itr</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;dbl&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 fio               100  49.57µs  81.41µs   11381.   861.83KB     0      100</span></span>
<span><span class="co">#&gt;  2 Base R            100  59.61µs  78.72µs   11191.   190.65KB     0      100</span></span>
<span><span class="co">#&gt;  3 leontief          100 131.45µs 161.95µs    6175.   706.38KB    62.4     99</span></span>
<span><span class="co">#&gt;  4 fio               500 445.67µs 625.95µs    1562.     1.91MB    65.1     96</span></span>
<span><span class="co">#&gt;  5 Base R            500 940.38µs   1.27ms     722.     3.82MB    80.2     90</span></span>
<span><span class="co">#&gt;  6 leontief          500   1.73ms   2.11ms     464.    16.29MB   691.      41</span></span>
<span><span class="co">#&gt;  7 fio              1000   1.83ms   2.38ms     405.     7.63MB    83.0     83</span></span>
<span><span class="co">#&gt;  8 Base R           1000   6.56ms   7.88ms     125.    15.27MB    70.1     64</span></span>
<span><span class="co">#&gt;  9 leontief         1000   8.46ms    8.6ms     116.       65MB  9131.       2</span></span>
<span><span class="co">#&gt; 10 fio              2000   9.56ms  10.89ms      87.9   30.52MB    12.3    100</span></span>
<span><span class="co">#&gt; 11 Base R           2000  45.27ms  52.44ms      18.8   61.05MB     6.38   100</span></span>
<span><span class="co">#&gt; 12 leontief         2000  39.91ms  62.49ms      16.4   259.7MB    44.6    100</span></span>
<span><span class="co">#&gt; # ℹ 6 more variables: n_gc &lt;dbl&gt;, total_time &lt;bch:tm&gt;, result &lt;list&gt;,</span></span>
<span><span class="co">#&gt; #   memory &lt;list&gt;, time &lt;list&gt;, gc &lt;list&gt;</span></span>
<span></span>
<span><span class="co"># plot</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">benchmark_a</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="figure/benchmark_a-1.png" alt="\label{fig:benchmark_a}{fio} is faster."><p class="caption">
is faster.
</p>
</div>
</div>
<div class="section level2">
<h2 id="leontief-inverse-matrix">Leontief inverse matrix<a class="anchor" aria-label="anchor" href="#leontief-inverse-matrix"></a>
</h2>
<p>When we’re talking about inverting a
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2000</mn><mo>×</mo><mn>2000</mn></mrow><annotation encoding="application/x-tex">2000 \times 2000</annotation></semantics></math>
there’s a lot more work involved. Leontief matrix
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>L</mi><annotation encoding="application/x-tex">L</annotation></semantics></math>)
is obtained from subtracting the technical coefficients matrix
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>)
from the identity matrix
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>I</mi><annotation encoding="application/x-tex">I</annotation></semantics></math>),
therefore it has no null rows or columns.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>=</mo><mi>I</mi><mo>−</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">L = I - A</annotation></semantics></math></p>
<p>It allows for solving the linear system through LU decomposition,
which is a more efficient method than the direct inverse matrix
calculation.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base R function</span></span>
<span><span class="va">leontief_inverse_r</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">technical_coefficients_matrix</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">technical_coefficients_matrix</span><span class="op">)</span></span>
<span>  <span class="va">leontief_inverse_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/solve.html" class="external-link">solve</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">dim</span><span class="op">)</span> <span class="op">-</span> <span class="va">technical_coefficients_matrix</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">leontief_inverse_matrix</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># benchmark</span></span>
<span><span class="va">benchmark_b</span> <span class="op">&lt;-</span> <span class="fu">bench</span><span class="fu">::</span><span class="fu">press</span><span class="op">(</span></span>
<span>  matrix_dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">500</span>, <span class="fl">1000</span>, <span class="fl">2000</span><span class="op">)</span>,</span>
<span>  <span class="op">{</span></span>
<span>    <span class="va">intermediate_transactions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>, <span class="va">matrix_dim</span><span class="op">^</span><span class="fl">2</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      nrow <span class="op">=</span> <span class="va">matrix_dim</span>,</span>
<span>      ncol <span class="op">=</span> <span class="va">matrix_dim</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">total_production</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">4000000</span><span class="op">:</span><span class="fl">6000000</span>, <span class="va">matrix_dim</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      nrow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>      ncol <span class="op">=</span> <span class="va">matrix_dim</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">iom_fio</span> <span class="op">&lt;-</span> <span class="fu">fio</span><span class="fu">::</span><span class="va"><a href="../reference/iom.html">iom</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"iom"</span>, <span class="va">intermediate_transactions</span>, <span class="va">total_production</span><span class="op">)</span></span>
<span>    <span class="va">iom_fio</span><span class="op">$</span><span class="fu">compute_tech_coeff</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="va">technical_coefficients_matrix</span> <span class="op">&lt;-</span> <span class="va">iom_fio</span><span class="op">$</span><span class="va">technical_coefficients_matrix</span></span>
<span>    <span class="fu">bench</span><span class="fu">::</span><span class="fu">mark</span><span class="op">(</span></span>
<span>      fio <span class="op">=</span> <span class="fu">fio</span><span class="fu">:::</span><span class="fu">compute_leontief_inverse</span><span class="op">(</span><span class="va">technical_coefficients_matrix</span><span class="op">)</span>,</span>
<span>      `Base R` <span class="op">=</span> <span class="fu">leontief_inverse_r</span><span class="op">(</span><span class="va">technical_coefficients_matrix</span><span class="op">)</span>,</span>
<span>      leontief <span class="op">=</span> <span class="fu">leontief</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/leontief/man/leontief_inverse.html" class="external-link">leontief_inverse</a></span><span class="op">(</span><span class="va">technical_coefficients_matrix</span><span class="op">)</span>,</span>
<span>      iterations <span class="op">=</span> <span class="fl">100</span>,</span>
<span>      check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Running with:</span></span>
<span><span class="co">#&gt;   matrix_dim</span></span>
<span><span class="co">#&gt; 1        100</span></span>
<span><span class="co">#&gt; 2        500</span></span>
<span><span class="co">#&gt; 3       1000</span></span>
<span><span class="co">#&gt; 4       2000</span></span>
<span><span class="co">#&gt; Warning: Some expressions had a GC in every iteration; so filtering is</span></span>
<span><span class="co">#&gt; disabled.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">benchmark_b</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 12 × 14</span></span>
<span><span class="co">#&gt;    expression matrix_dim      min   median `itr/sec` mem_alloc `gc/sec` n_itr</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;dbl&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 fio               100 138.58µs  339.4µs   2410.    158.51KB     0      100</span></span>
<span><span class="co">#&gt;  2 Base R            100 254.04µs 356.86µs   2765.    413.27KB     0      100</span></span>
<span><span class="co">#&gt;  3 leontief          100 270.72µs  363.4µs   2837.    402.57KB     0      100</span></span>
<span><span class="co">#&gt;  4 fio               500   4.83ms   5.78ms    172.      3.81MB     3.51    98</span></span>
<span><span class="co">#&gt;  5 Base R            500   3.96ms   4.27ms    230.      9.55MB    20.0     92</span></span>
<span><span class="co">#&gt;  6 leontief          500   3.99ms   4.26ms    231.      9.55MB    20.1     92</span></span>
<span><span class="co">#&gt;  7 fio              1000  24.13ms  27.31ms     36.6    15.26MB     3.62    91</span></span>
<span><span class="co">#&gt;  8 Base R           1000  16.67ms  17.36ms     56.8    38.18MB    16.0     78</span></span>
<span><span class="co">#&gt;  9 leontief         1000  15.96ms   17.3ms     57.3    38.18MB    16.2     78</span></span>
<span><span class="co">#&gt; 10 fio              2000 129.76ms 136.91ms      7.26   61.03MB     1.45   100</span></span>
<span><span class="co">#&gt; 11 Base R           2000  85.67ms  89.92ms     10.9   152.66MB    11.1    100</span></span>
<span><span class="co">#&gt; 12 leontief         2000  85.94ms  90.43ms     10.8   152.66MB    10.8    100</span></span>
<span><span class="co">#&gt; # ℹ 6 more variables: n_gc &lt;dbl&gt;, total_time &lt;bch:tm&gt;, result &lt;list&gt;,</span></span>
<span><span class="co">#&gt; #   memory &lt;list&gt;, time &lt;list&gt;, gc &lt;list&gt;</span></span>
<span></span>
<span><span class="co"># plot</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">benchmark_b</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="figure/benchmark_b-1.png" alt="\label{fig:figs} {fio} is incredibly faster."><p class="caption">
{fio} is incredibly faster.
</p>
</div>
</div>
<div class="section level2">
<h2 id="sensitivity-of-dispersion-coefficients-of-variation">Sensitivity of dispersion coefficients of variation<a class="anchor" aria-label="anchor" href="#sensitivity-of-dispersion-coefficients-of-variation"></a>
</h2>
<p>To represent linkage-based functions performance, we compute
benchmark for sensitivity of dispersion coefficients of variation.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base R function</span></span>
<span><span class="va">sensitivity_r</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">B</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">B</span><span class="op">)</span></span>
<span>  <span class="va">SL</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">B</span><span class="op">)</span></span>
<span>  <span class="va">ML</span> <span class="op">=</span> <span class="va">SL</span> <span class="op">/</span> <span class="va">n</span></span>
<span>  <span class="op">(</span><span class="op">(</span><span class="op">(</span><span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="va">n</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="op">(</span><span class="va">B</span> <span class="op">-</span> <span class="va">ML</span><span class="op">)</span> <span class="op">**</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">**</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">/</span> <span class="va">ML</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># benchmark</span></span>
<span><span class="va">benchmark_c</span> <span class="op">&lt;-</span> <span class="fu">bench</span><span class="fu">::</span><span class="fu">press</span><span class="op">(</span></span>
<span>  matrix_dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">500</span>, <span class="fl">1000</span>, <span class="fl">2000</span><span class="op">)</span>,</span>
<span>  <span class="op">{</span></span>
<span>    <span class="va">intermediate_transactions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>, <span class="va">matrix_dim</span><span class="op">^</span><span class="fl">2</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      nrow <span class="op">=</span> <span class="va">matrix_dim</span>,</span>
<span>      ncol <span class="op">=</span> <span class="va">matrix_dim</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">total_production</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">4000000</span><span class="op">:</span><span class="fl">6000000</span>, <span class="va">matrix_dim</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      nrow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>      ncol <span class="op">=</span> <span class="va">matrix_dim</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">iom_fio</span> <span class="op">&lt;-</span> <span class="fu">fio</span><span class="fu">::</span><span class="va"><a href="../reference/iom.html">iom</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"iom"</span>, <span class="va">intermediate_transactions</span>, <span class="va">total_production</span><span class="op">)</span></span>
<span>    <span class="va">iom_fio</span><span class="op">$</span><span class="fu">compute_tech_coeff</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="fu">compute_leontief_inverse</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="va">leontief_inverse_matrix</span> <span class="op">&lt;-</span> <span class="va">iom_fio</span><span class="op">$</span><span class="va">leontief_inverse_matrix</span></span>
<span>    <span class="fu">bench</span><span class="fu">::</span><span class="fu">mark</span><span class="op">(</span></span>
<span>      fio <span class="op">=</span> <span class="fu">fio</span><span class="fu">:::</span><span class="fu">compute_sensitivity_dispersion_cv</span><span class="op">(</span><span class="va">leontief_inverse_matrix</span><span class="op">)</span>,</span>
<span>      `Base R` <span class="op">=</span> <span class="fu">sensitivity_r</span><span class="op">(</span><span class="va">leontief_inverse_matrix</span><span class="op">)</span>,</span>
<span>      leontief <span class="op">=</span> <span class="fu">leontief</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/leontief/man/sensitivity_dispersion_cv.html" class="external-link">sensitivity_dispersion_cv</a></span><span class="op">(</span><span class="va">leontief_inverse_matrix</span><span class="op">)</span>,</span>
<span>      iterations <span class="op">=</span> <span class="fl">100</span>,</span>
<span>      check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Running with:</span></span>
<span><span class="co">#&gt;   matrix_dim</span></span>
<span><span class="co">#&gt; 1        100</span></span>
<span><span class="co">#&gt; 2        500</span></span>
<span><span class="co">#&gt; 3       1000</span></span>
<span><span class="co">#&gt; 4       2000</span></span>
<span><span class="co">#&gt; Warning: Some expressions had a GC in every iteration; so filtering is</span></span>
<span><span class="co">#&gt; disabled.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">benchmark_c</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 12 × 14</span></span>
<span><span class="co">#&gt;    expression matrix_dim      min   median `itr/sec` mem_alloc `gc/sec` n_itr</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;dbl&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 fio               100 130.05µs 193.19µs   4449.     81.23KB     0      100</span></span>
<span><span class="co">#&gt;  2 Base R            100  21.48µs  25.07µs  19494.     81.48KB     0      100</span></span>
<span><span class="co">#&gt;  3 leontief          100 512.99µs 544.77µs   1826.    745.38KB    18.4     99</span></span>
<span><span class="co">#&gt;  4 fio               500 445.34µs  592.8µs   1652.      1.91MB     0      100</span></span>
<span><span class="co">#&gt;  5 Base R            500 468.18µs 551.22µs   1808.      1.92MB     0      100</span></span>
<span><span class="co">#&gt;  6 leontief          500  10.46ms  11.03ms     90.3    17.31MB     6.79    93</span></span>
<span><span class="co">#&gt;  7 fio              1000   1.49ms   1.68ms    581.      7.64MB     0      100</span></span>
<span><span class="co">#&gt;  8 Base R           1000    1.8ms   2.11ms    474.      7.66MB    14.6     97</span></span>
<span><span class="co">#&gt;  9 leontief         1000  61.18ms   62.3ms     16.0    68.94MB     9.42    63</span></span>
<span><span class="co">#&gt; 10 fio              2000   4.94ms   5.16ms    192.     30.53MB     0      100</span></span>
<span><span class="co">#&gt; 11 Base R           2000   8.14ms   8.27ms    115.     30.58MB    21.9    100</span></span>
<span><span class="co">#&gt; 12 leontief         2000 286.46ms 301.14ms      3.24  275.22MB     4.60   100</span></span>
<span><span class="co">#&gt; # ℹ 6 more variables: n_gc &lt;dbl&gt;, total_time &lt;bch:tm&gt;, result &lt;list&gt;,</span></span>
<span><span class="co">#&gt; #   memory &lt;list&gt;, time &lt;list&gt;, gc &lt;list&gt;</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">benchmark_c</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="figure/benchmark_c-1.png" alt="\label{fig:benchmark_c} {fio} again faster."><p class="caption">
{fio} again faster.
</p>
</div>
</div>
<div class="section level2">
<h2 id="field-of-influence">Field of influence<a class="anchor" aria-label="anchor" href="#field-of-influence"></a>
</h2>
<p>Since field of influence involves computing Leontief inverse matrix
for each element of technical coefficients matrix after an increment, it
can be demanding for high dimensional matrices. Here, we evaluate
benchmark for base R function and {fio}, since there’s no similiar
function in {leontief}. For brevity, we cut dimensions to 100 and
repetitions to 10.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base R function</span></span>
<span><span class="va">field_influence_r</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">A</span>, <span class="va">B</span>, <span class="va">ee</span> <span class="op">=</span> <span class="fl">0.001</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">n</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span>
<span>  <span class="va">I</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span>  <span class="va">E</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0</span>, ncol <span class="op">=</span> <span class="va">n</span>, nrow <span class="op">=</span> <span class="va">n</span><span class="op">)</span></span>
<span>  <span class="va">SI</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0</span>, ncol <span class="op">=</span> <span class="va">n</span>, nrow <span class="op">=</span> <span class="va">n</span><span class="op">)</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">n</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">for</span> <span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">n</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">E</span><span class="op">[</span><span class="va">i</span>, <span class="va">j</span><span class="op">]</span> <span class="op">=</span> <span class="va">ee</span></span>
<span>      <span class="va">AE</span> <span class="op">=</span> <span class="va">A</span> <span class="op">+</span> <span class="va">E</span></span>
<span>      <span class="va">BE</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/solve.html" class="external-link">solve</a></span><span class="op">(</span><span class="va">I</span> <span class="op">-</span> <span class="va">AE</span><span class="op">)</span></span>
<span>      <span class="va">FE</span> <span class="op">=</span> <span class="op">(</span><span class="va">BE</span> <span class="op">-</span> <span class="va">B</span><span class="op">)</span> <span class="op">/</span> <span class="va">ee</span></span>
<span>      <span class="va">FEq</span> <span class="op">=</span> <span class="va">FE</span> <span class="op">*</span> <span class="va">FE</span></span>
<span>      <span class="va">S</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">FEq</span><span class="op">)</span></span>
<span>      <span class="va">SI</span><span class="op">[</span><span class="va">i</span>, <span class="va">j</span><span class="op">]</span> <span class="op">=</span> <span class="va">S</span></span>
<span>      <span class="va">E</span><span class="op">[</span><span class="va">i</span>, <span class="va">j</span><span class="op">]</span> <span class="op">=</span> <span class="fl">0</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">SI</span><span class="op">)</span> <span class="co"># Added return statement</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># benchmark</span></span>
<span><span class="va">benchmark_d</span> <span class="op">&lt;-</span> <span class="fu">bench</span><span class="fu">::</span><span class="fu">press</span><span class="op">(</span></span>
<span>  matrix_dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>  <span class="op">{</span></span>
<span>    <span class="va">intermediate_transactions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>, <span class="va">matrix_dim</span><span class="op">^</span><span class="fl">2</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      nrow <span class="op">=</span> <span class="va">matrix_dim</span>,</span>
<span>      ncol <span class="op">=</span> <span class="va">matrix_dim</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">total_production</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">4000000</span><span class="op">:</span><span class="fl">6000000</span>, <span class="va">matrix_dim</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      nrow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>      ncol <span class="op">=</span> <span class="va">matrix_dim</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">iom_fio_reduced</span> <span class="op">&lt;-</span> <span class="fu">fio</span><span class="fu">::</span><span class="va"><a href="../reference/iom.html">iom</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>      <span class="st">"iom_reduced"</span>,</span>
<span>      <span class="va">intermediate_transactions</span>,</span>
<span>      <span class="va">total_production</span></span>
<span>    <span class="op">)</span><span class="op">$</span><span class="fu">compute_tech_coeff</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="fu">compute_leontief_inverse</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu">bench</span><span class="fu">::</span><span class="fu">mark</span><span class="op">(</span></span>
<span>      fio <span class="op">=</span> <span class="fu">fio</span><span class="fu">:::</span><span class="fu">compute_field_influence</span><span class="op">(</span></span>
<span>        <span class="va">iom_fio_reduced</span><span class="op">$</span><span class="va">technical_coefficients_matrix</span>,</span>
<span>        <span class="va">iom_fio_reduced</span><span class="op">$</span><span class="va">leontief_inverse_matrix</span>,</span>
<span>        <span class="fl">0.001</span></span>
<span>      <span class="op">)</span>,</span>
<span>      `Base R` <span class="op">=</span> <span class="fu">field_influence_r</span><span class="op">(</span></span>
<span>        <span class="va">iom_fio_reduced</span><span class="op">$</span><span class="va">technical_coefficients_matrix</span>,</span>
<span>        <span class="va">iom_fio_reduced</span><span class="op">$</span><span class="va">leontief_inverse_matrix</span></span>
<span>      <span class="op">)</span>,</span>
<span>      iterations <span class="op">=</span> <span class="fl">10</span>,</span>
<span>      check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Running with:</span></span>
<span><span class="co">#&gt;   matrix_dim</span></span>
<span><span class="co">#&gt; 1         30</span></span>
<span><span class="co">#&gt; 2         60</span></span>
<span><span class="co">#&gt; Warning: Some expressions had a GC in every iteration; so filtering is</span></span>
<span><span class="co">#&gt; disabled.</span></span>
<span><span class="co">#&gt; 3        100</span></span>
<span><span class="co">#&gt; Warning: Some expressions had a GC in every iteration; so filtering is</span></span>
<span><span class="co">#&gt; disabled.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">benchmark_d</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 14</span></span>
<span><span class="co">#&gt;   expression matrix_dim      min   median `itr/sec` mem_alloc `gc/sec` n_itr</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt;      &lt;dbl&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 fio                30   5.47ms   5.51ms   181.      16.67KB     0       10</span></span>
<span><span class="co">#&gt; 2 Base R             30  23.76ms  24.17ms    41.3     44.52MB    10.3      8</span></span>
<span><span class="co">#&gt; 3 fio                60 111.41ms 111.72ms     8.95    56.34KB     0       10</span></span>
<span><span class="co">#&gt; 4 Base R             60 718.27ms 726.39ms     1.37    701.2MB     2.75    10</span></span>
<span><span class="co">#&gt; 5 fio               100     3.6s    5.07s     0.203  156.34KB     0       10</span></span>
<span><span class="co">#&gt; 6 Base R            100    4.24s    4.26s     0.234    5.25GB     3.83    10</span></span>
<span><span class="co">#&gt; # ℹ 6 more variables: n_gc &lt;dbl&gt;, total_time &lt;bch:tm&gt;, result &lt;list&gt;,</span></span>
<span><span class="co">#&gt; #   memory &lt;list&gt;, time &lt;list&gt;, gc &lt;list&gt;</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">benchmark_d</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="figure/benchmark_d-1.png" alt="\label{fig:benchmark_d} {fio} faster."><p class="caption">
{fio} faster.
</p>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr>
<ol>
<li id="fn1"><p>Or in a equivalent way, multiplying intermediate
transactions matrix by a diagonal matrix constructed from total
production vector.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Alberson da Silva Miranda.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
